<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
<meta name="googlebot" content="noindex, nofollow">
    <title>Invent√°rio - Aden RPG</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="maintenance.js"></script>
    <link href="style.css" rel="stylesheet"/>
    <link href="inventory.css" rel="stylesheet"/>
    <style>
      /* Pequenos ajustes √∫teis para sele√ß√£o m√∫ltipla */
      #fragmentList, #refineFragmentList {
        display: grid; 
        gap: 10px;
        grid-template-columns: repeat(auto-fill,minmax(240px,1fr));
        max-height: 55vh;
        overflow: auto;
        padding: 6px;
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 10px;
        background: rgba(0,0,0,0.25);
      }
      #fragmentList li, #refineFragmentList li {
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 8px;
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 10px;
        background: rgba(0,0,0,0.2);
        cursor: pointer;
        display: flex;
      }
      #fragmentList li.selected, #refineFragmentList li.selected {
        outline: 2px solid #e0dccc;
        background: rgba(255,255,255,0.08);
      }
      .fragment-quantity-input {
        width: 72px;
      }
      .fragspanx.btn, .fragspanx {
        cursor: pointer;
      }
      #selectedFragmentPreview { 
        display: none;
        margin: 8px 0 12px 0;
        padding: 8px;
        border: 1px dashed rgba(255,255,255,0.2);
        border-radius: 10px;
      }
      .modal-overlay { display:none; }

      #itemDescription {
          margin-top: 10px;
          padding: 10px;
          border: 1px solid rgba(255,255,255,0.1);
          border-radius: 8px;
      }
      .empty-inventory-message {
        color: white;
      }
      #customAlertModal {
  z-index: 9999 !important;
}

.shimmer {
  position: relative;
  color: transparent; /* texto oculto at√© revelar */
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.2) 25%,
    rgba(255,255,255,0.8) 50%,
    rgba(255,255,255,0.2) 75%
  );
  background-size: 200% 100%;
  animation: shimmerAnim 1.2s infinite;
  border-radius: 4px;
  min-height: 18px; /* altura m√≠nima para a barra branca */
}

@keyframes shimmerAnim {
  from { background-position: -200% 0; }
  to   { background-position: 200% 0; }
}

@keyframes zoomInOut {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.zoom-border {
    border: 3px solid #FFD700 !important; /* Borda amarela */
    animation: zoomInOut 1.5s infinite; /* Aplica a anima√ß√£o */
}

#background-video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover; 
   opacity: 0.9;
  z-index: -1; 
}
    </style>
</head>
<body>

    <div id="playerTopBar">
        <a href="go:pghome" class="top-bar-link" title="Voltar">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>
        </a>
        <div><span id="pageTitle">Bolsa</span><img id="openTutorialBtn" src="https://aden-rpg.pages.dev/assets/tutorialbtn.webp" style="width:20px; height:20px; vertical-align: 5px; padding-left: 5px;"></div>
       
    <img src="https://aden-rpg.pages.dev/assets/refresh.webp" alt="Recarregar" style="width:30px; height:30px;">

    </div>

    <div id="mainContainer">
        <div id="equipmentAndAvatarContainer">
          <video autoplay muted loop playsinline id="background-video">
    <source src="https://aden-rpg.pages.dev/assets/divbolsa.webm" type="video/webm">
  </video>
            <div class="equipment-column">
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_espada.webp'); background-size: cover;" id="weapon-slot" class="equipment-slot" data-slot="weapon"></div>
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_anel.webp'); background-size: cover;" id="ring-slot" class="equipment-slot" data-slot="ring"></div>
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_elmo.webp'); background-size: cover;" id="helm-slot" class="equipment-slot" data-slot="helm"></div>
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_mais.webp'); background-size: cover;" id="special1-slot" class="equipment-slot" data-slot="special1"></div>
            </div>

            <div id="playerAvatarEquipContainer">
                <img id="playerAvatarEquip" src="caminho/para/avatar_padrao.webp" alt="Avatar do Jogador">
            </div>

            <div class="equipment-column">
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_colar.webp'); background-size: cover;" id="amulet-slot" class="equipment-slot" data-slot="amulet"></div>
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_asa.webp'); background-size: cover;" id="wing-slot" class="equipment-slot" data-slot="wing"></div>
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_armadura.webp'); background-size: cover;" id="armor-slot" class="equipment-slot" data-slot="armor"></div>
                <div style="background-image: url('https://aden-rpg.pages.dev/assets/icon_mais.webp'); background-size: cover;" id="special2-slot" class="equipment-slot" data-slot="special2"></div>
            </div>
        </div>
        
        <div id="attributesSection">
            <div class="attribute-row">
                <div class="attribute-item">
                    <span class="attribute-label">ATK</span>
                    <span id="playerAttack" class="attribute-value">0 - 0</span>
                </div>
                <div class="attribute-item">
                    <span class="attribute-label">TAXA CRIT</span>
                    <span id="playerCritChance" class="attribute-value">0%</span>
                </div>
                <div class="attribute-item">
                    <span class="attribute-label">DANO CRIT</span>
                    <span id="playerCritDamage" class="attribute-value">0%</span>
                </div>
            </div>
            <div class="attribute-row">
                <div class="attribute-item">
                    <span class="attribute-label">HP</span>
                    <span id="playerHealth" class="attribute-value">0</span>
                </div>
                <div class="attribute-item">
                    <span class="attribute-label">DEFESA</span>
                    <span id="playerDefense" class="attribute-value">0</span>
                </div>
                <div class="attribute-item">
                    <span class="attribute-label">EVAS√ÉO</span>
                    <span id="playerEvasion" class="attribute-value">0%</span>
                </div>
            </div>
        </div>

        <div id="bagSection">
            <div id="bagTabs">
                <button class="tab-button active" id="tab-all">Tudo</button>
                <button class="tab-button" id="tab-equipment">Equips.</button>
                <button class="tab-button" id="tab-fragments">Frags.</button>
                <button class="tab-button" id="tab-others">Outros</button>
            </div>
            <div id="bagItemsGrid"></div>
        </div>
    </div>

    <div id="itemDetailsModal" class="modal-overlay">
        <div id="itemDetailsContent" class="modal-content">
            <span id="closeDetailsModal" class="btn">x</span>
            
            <div id="itemHeader">
                <div id="itemImageContainer">
                    <img id="detailItemImage" src="" alt="Imagem do Item">
                </div>
                <div id="itemHeaderText">
                    <div id="itemStars"></div>
                    <span id="detailItemRarity"></span>
                    <h2 id="detailItemName">Nome do Item</h2>
                </div>
            </div>
 <div id="itemDescription"></div>
            <div id="itemInfoSection">
                <div id="itemLevelPower">
                    <p id="detailItemLevel">Nv. 1</p>
                    <div id="equipBtnModal"></div>
                </div>
                
                <div class="progress-bar-container">
                    <div id="levelXpBar" class="progress-bar"></div>
                    <span id="levelXpText" class="progress-bar-text">0/15</span>
                </div>

                <div id="itemStats"></div>
            </div>
            <div id="itemRefineSection">
              <div id="itemInfoSection">
                <h3>Refundi√ß√£o</h3>
    <div id="refineRow1" class="refine-row">
        <img src="https://aden-rpg.pages.dev/assets/locked.webp" alt="Bloqueado" class="refine-icon">
        <p style="font-size: 0.7em;">Refine para 4 estrelas para desbloquear</p>
    </div>
    <div id="refineRow2" class="refine-row">
        <img src="https://aden-rpg.pages.dev/assets/locked.webp" alt="Bloqueado" class="refine-icon">
        <p>Refine para 5 estrelas para desbloquear</p>
    </div>
    </div>
</div>
           

            <div id="itemActions">
                <button id="levelUpBtn" class="action-btn">Evoluir</button>
                <button id="refineBtn" class="action-btn">Refinar</button>
                <button id="reforgeItemBtn" class="action-btn">Refundir</button>
               <button 
    id="deconstructBtn" 
    class="action-btn"
    style="background-color: grey; background-image: none; opacity: 0.8;" onclick="handleDeconstruct(selectedItem.id)"
>
    Desconstruir
</button>
            </div>
        </div>
    </div>

    <div id="craftingModal" class="modal-overlay">
        <div id="craftingContent" class="modal-content">
            <span id="closeCraftingModal" class="btn">x</span>
           
            <div class="modal-header">
                <div class="modal-text">
                    <h2 id="craftingFragmentName">Nome do Fragmento</h2>
                </div>
                <img id="craftingFragmentImage" src="" alt="Fragmento" class="item-icon">
                <p>Necess√°rios:<br> <span id="fragmentsNeeded"></span></p>
                <span style="display: none" id="craftingFragmentQuantity"></span>
               <div id="craftingCostContainer" style="margin-top:8px;">
  <p style="margin:0;">Custo:</p>
  <div style="display:flex; align-items:center; gap:6px; margin-top:4px;">
    <img src="https://aden-rpg.pages.dev/assets/cristais.webp" width="30" height="30"> X <span id="crystalCost" style="font-weight: bold;">0</span>
  </div>
</div>

            </div>

            <h2>Resultado</h2>
            <div id="craftingInfo">
                <div class="crafting-item-preview">
                    <img id="craftingTargetImage" src="" alt="Item a Ser Constru√≠do" class="item-icon">
                    <div class="crafting-costs"></div>
                </div>
            </div>

            <div id="craftingActions">
                <button id="craftBtn" class="action-btn">Construir</button>
            </div>
        </div>
    </div>

    <div id="fragmentSelectModal" class="modal-overlay">
        <div class="modal-content">
            <span id="closeFragmentModal" class="fragspanx">X</span>
            <h2>Selecione Fragmentos (m√∫ltiplos permitidos)</h2>

            <div id="selectedFragmentPreview">
                <p>Dica: voc√™ pode marcar v√°rios fragmentos e definir quantidades diferentes.</p>
            </div>

            <div id="fragmentList"></div>
            <button id="confirmFragmentSelection" class="action-btn" style="width:100%;">Usar Fragmentos</button>
        </div>
    </div>

    <div id="refineFragmentModal" class="modal-overlay">
        <div class="modal-content">
            <span id="closeRefineFragmentModal" class="btn">x</span>
            <h2>Refinar Item</h2><h3>(m√∫ltiplos permitidos)</h3>
            <p id="refineCostsText" style="margin:10px 0 14px 0; font-weight:bold;"></p>
            <div id="refineFragmentList"></div>
            <button id="confirmRefineSelectionRefine" class="action-btn" style="width:100%;">Refinar</button>
        </div>
    </div>

    <div id="customAlertModal" class="modal-overlay">
      <div class="modal-content">
        <p id="customAlertMessage">Mensagem</p>
        <button id="customAlertOkBtn" class="action-btn">OK</button>
      </div>
    </div>

    <div id="customConfirmModal" class="modal-overlay">
      <div class="modal-content">
        <p id="customConfirmMessage">Tem certeza?</p>
        <div style="display:flex; gap:10px; justify-content:flex-end;">
          <button id="customConfirmNoBtn" class="action-btn">N√£o</button>
          <button id="customConfirmYesBtn" class="action-btn">Sim</button>
        </div>
      </div>
    </div>
    <div id="reforgeModal" class="modal-overlay">
    <div class="modal-content">
        <span id="closeReforgeModal" class="btn">x</span>
        <h2>Refundir Equipamento</h2>

        <div id="reforgeSlotsContainer" class="reforge-slots-container">
            </div>

        <div id="rolledAttributesContainer">
            </div>

        <p id="reforgeMessage" style="margin-top: 10px;"></p>

        <div style="display: flex; gap: 10px; justify-content: center; margin-top: 15px;">
            <button id="reforgeBtn" class="action-btn">REFUNDIR</button>
            <button id="applyReforgeBtn" class="action-btn" style="display: none;">Aplicar Atributos</button>
        </div>
    </div>
</div>
<div id="deconstructConfirmModal" class="modal-overlay">
  <div class="modal-content">
    <p style="margin-bottom:10px;">Tem certeza que deseja desconstruir este item? <br>Esta a√ß√£o √© <b>irrevers√≠vel</b>.</p>

    <div style="margin:10px 0; display:flex; align-items:center; gap:6px;">
      <img src="https://aden-rpg.pages.dev/assets/cristais.webp" width="35" height="35">
      <span>X400</span>
    </div>

    <div id="deconstructFragmentPreview" style="margin:10px 0; display:flex; align-items:center; gap:6px;">
      <!-- preenchido pelo JS -->
    </div>

    <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:12px;">
      <button id="deconstructCancelBtn" class="action-btn">Cancelar</button>
      <button id="deconstructConfirmBtn" class="action-btn" style="background-image: none; background-color: grey; opacity: 0.8;">Confirmar</button>
    </div>
  </div>
</div>
<div id="loading-overlay">
  <div id="loading-container">
    <h2>Carregando...</h2>
    <div id="progress-bar-container">
      <div id="progress-bar"></div>
    </div>
    <span id="progress-text">0%</span>
  </div>
</div>
<script src="loading2.js"></script>
<script type="module" src="inventory.js"></script>
    <script src="desconstruir.js"></script>
    <script src="refundir.js"></script>
    

<div id="tutorialModal" class="modal-overlay2" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h1>Tutorial</h1>
            
        </div>
        
        <p>Bem-vindo, aventureiro(a)! Este tutorial ir√° gui√°-lo por todas as mec√¢nicas de jogo, do invent√°rio √† refundi√ß√£o, para que voc√™ possa se tornar um mestre em Aden RPG.</p>
        
        <hr>

        <h2>1. Vis√£o Geral do seu Invent√°rio</h2>
        <p>Seu invent√°rio √© o cora√ß√£o da sua jornada. √â onde voc√™ gerencia todos os seus itens, incluindo equipamentos e fragmentos.</p>
        <ul>
            <li><strong>Itens Equipados</strong>: Ficam na parte superior da tela. Representam os itens que est√£o ativamente sendo usados pelo seu personagem.</li>
            <li><strong>Seus Status</strong>: Seus atributos (Ataque, Defesa, HP, etc.) s√£o calculados com base em seu equipamento e n√≠veis.</li>
            <li><strong>Lista de Itens</strong>: Abaixo dos status, voc√™ tem acesso a todo o seu arsenal e itens em geral, podendo filtr√°-los por tipo.</li>
        </ul>

        <hr>

        <h2>2. Equipando e Desequipando Itens</h2>
        <p>Para equipar um item, basta selecion√°-lo na sua lista e clicar no bot√£o de equipar. Lembre-se:</p>
        <ul>
            <li><strong>Um por Slot</strong>: Voc√™ s√≥ pode ter um item equipado por slot (ex: uma arma por vez). Se voc√™ equipar uma nova arma, a anterior √© automaticamente desequipada.</li>
        </ul>

        <hr>

        <h2>3. Melhorando seu Equipamento</h2>
        <p>Existem duas maneiras de tornar seus itens mais poderosos: <strong>Evoluir</strong> e <strong>Refinar</strong>.</p>
        <h3>Evoluir</h3>
        <p>Evoluir aumenta o n√≠vel do seu item e melhora seus b√¥nus. Para isso, voc√™ usa <strong>fragmentos</strong> de itens como experi√™ncia.</p>
        <h3>Refinar</h3>
        <p>O refino aumenta a raridade do seu item. Ele exige <strong>fragmentos da mesma raridade</strong> e <strong>cristais</strong>. O custo exato √© calculado pelo jogo, e voc√™ precisa ter os recursos necess√°rios para o refino ser bem-sucedido.</p>

        <hr>

        <h2>4. Criando e Desconstruindo Itens</h2>
        <h3>Criar Itens</h3>
        <p>A cria√ß√£o permite construir novos equipamentos a partir de materiais. Cada item tem um custo fixo de <strong>cristais</strong> (baseado na raridade: R: 100, SR: 300, SSR: 600) e <strong>30 fragmentos</strong>. Se voc√™ tiver os recursos, o jogo os subtrai e adiciona o novo item ao seu invent√°rio.</p>
        <h3>Desconstruir Itens</h3>
        <p>Desconstruir um item o destr√≥i, mas devolve uma parte dos recursos que voc√™ investiu nele. O processo custa <strong>400 cristais</strong>.</p>
        <ul>
            <li><strong>Retorno</strong>: Voc√™ recebe de volta uma porcentagem da XP gasta para evoluir e dos fragmentos usados para refinar o item.</li>
            <li><strong>Pr√©via</strong>: √â poss√≠vel ver o retorno de fragmentos e cristais antes de confirmar a desconstru√ß√£o.</li>
        </ul>

        <hr>

        <h2>5. Refundindo Itens</h2>
        <p>A refundi√ß√£o permite que voc√™ altere os atributos de um item para obter novos b√¥nus. √â uma √≥tima forma de otimizar seus equipamentos!</p>
        <ul>
            <li><strong>Requisitos</strong>: O item precisa ter no m√≠nimo <strong>4 estrelas</strong>.</li>
            <li><strong>Custo</strong>: Voc√™ precisar√° de <strong>pedras de refundi√ß√£o</strong> (5 pedras para itens de 4 estrelas e 10 para itens de 5 estrelas ou mais).</li>
            <li><strong>Processo</strong>: O jogo ir√° gerar novos atributos aleatoriamente. Voc√™ pode ver esses novos atributos e escolher se deseja aplic√°-los.</li>
        </ul>
        <button class="close-btn" id="closeTutorialBtn">Fechar</button>
        <br><br><br>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const modal = document.getElementById('tutorialModal');
        const openBtn = document.getElementById('openTutorialBtn');
        const closeBtn = document.getElementById('closeTutorialBtn');

        // Fun√ß√£o para abrir o modal
        function openModal() {
            modal.style.display = 'flex';
        }

        // Fun√ß√£o para fechar o modal
        function closeModal() {
            modal.style.display = 'none';
        }

        // Adiciona os eventos de clique
        if (openBtn) {
            openBtn.addEventListener('click', openModal);
        }

        if (closeBtn) {
            closeBtn.addEventListener('click', closeModal);
        }

        // Opcional: Fechar o modal clicando fora dele
        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });
    });
</script>

<div id="banModalOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.95); color: white; z-index: 10000; justify-content: center; align-items: center; text-align: center; flex-direction: column;">
    <div style="background: #2b2b2b; padding: 30px; border-radius: 15px; box-shadow: 0 0 25px rgba(255, 69, 0, 0.8); max-width: 90%; width: 400px; border: 3px solid #ff4500;">
        <img src="https://aden-rpg.pages.dev/assets/expulsar.webp" alt="Aviso" style="width: 80px; height: 80px; margin-bottom: 10px;">
        <h2 style="color: #ff4500; font-size: 1.8em; margin-bottom: 20px;">Voc√™ foi banido(a)!</h2>
        
        <p style="text-align: left; margin-bottom: 25px;">
            <strong>Motivo:</strong><br>
            <span id="banReasonContent" style="color: #ffd700; display: block; margin-top: 5px; padding: 10px; border: 1px dashed #444; white-space: pre-wrap;">[Carregando Motivo...]</span>
        </p>

        <button id="logoutBanBtn" style="background: linear-gradient(to top, #ff4500, #ff8c00); color: white; padding: 12px 25px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1.1em; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); transition: background 0.2s;">
            Fechar
        </button>
    </div>
</div>


<div id="maintenance-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); color: white; z-index: 9999; justify-content: center; align-items: center; text-align: center; flex-direction: column; font-family: Arial, sans-serif;">
    <img src="https://aden-rpg.pages.dev/assets/config.webp" alt="Manuten√ß√£o" style="width: 120px; height: 120px; margin-bottom: 20px;">
    <h1 id="maintenance-title">Aviso de Manuten√ß√£o</h1>
    <p id="maintenance-message" style="font-size: 1.2em; max-width: 80%;"></p>
    <p style="font-size: 0.9em; margin-top: 20px;">Obrigado pela sua paci√™ncia.</p>
</div>
<div id="countdown-banner" style="display: none; position: fixed; top: 0; left: 0; width: 100%; padding: 10px; background-color: rgba(0, 0, 0, 0.9); color: white; text-align: center; z-index: 9999; font-family: Arial, sans-serif; box-shadow: 0 4px 8px rgba(0,0,0,0.3); font-weight: bold;">
    <div style="font-size: 1.5em; font-weight: bold;">
        <span id="countdown-timer"></span>
    </div>
    <div style="font-size: 0.9em; margin-top: 5px;">
        O servidor entrar√° em manuten√ß√£o dentro de instantes. Por favor, n√£o inicie alguma opera√ß√£o no jogo para n√£o ter risco de perda de dados. Obrigado pela paci√™ncia!
    </div>
</div>
<script>
document.addEventListener("DOMContentLoaded", () => {
  // cria um elemento para medir o tamanho real de 1rem
  const testEl = document.createElement("div");
  testEl.style.cssText = "position:absolute;visibility:hidden;font-size:1rem;line-height:1;";
  testEl.textContent = "M";
  document.body.appendChild(testEl);

  const actualRem = testEl.getBoundingClientRect().height;
  document.body.removeChild(testEl);

  console.log("[scale-lock] 1rem real:", actualRem, "px");

  // queremos sempre 16px como base (modo padr√£o)
  const targetRem = 13;
  const correction = targetRem / actualRem;

  const style = document.createElement("style");
  style.textContent = `
    html { font-size: ${16 * correction}px !important; }
    body { font-size: 1.3rem !important; }
  `;
  document.head.appendChild(style);

  console.log("[scale-lock] Corre√ß√£o aplicada, fator:", correction.toFixed(2));
});
</script>
<script type="module">
import { supabase } from './supabaseClient.js'

document.addEventListener("DOMContentLoaded", async () => {

  let session = null
  let userId = null

  // üîê Auth seguro (igual AFK)
  try {
    const { data: sessionData } = await supabase.auth.getSession()
    session = sessionData?.session

    if (!session?.user) {
      const { data: refreshData } = await supabase.auth.refreshSession()
      session = refreshData?.session
    }

    if (!session?.user) {
      // Usu√°rio n√£o logado ‚Üí n√£o verifica ban
      return
    }

    userId = session.user.id
  } catch (e) {
    console.error("Erro ao obter sess√£o:", e)
    return
  }

  // üîç Verifica√ß√£o de banimento
  try {
    const { data, error } = await supabase
      .from('players')
      .select('is_banned, ban_reason')
      .eq('id', userId)
      .single()

    if (error) {
      console.error("Erro ao verificar banimento:", error)
      return
    }

    if (data?.is_banned === true) {
      console.warn(`Usu√°rio ${userId} est√° banido.`)

      const banModal = document.getElementById('banModalOverlay')
      const banReasonContent = document.getElementById('banReasonContent')
      const logoutBanBtn = document.getElementById('logoutBanBtn')

      if (!banModal || !banReasonContent || !logoutBanBtn) {
        window.location.href = "go:pghome?logout=true"
        return
      }

      banReasonContent.innerText =
        data.ban_reason || "Motivo n√£o especificado. Entre em contato com o suporte."

      banModal.style.display = 'flex'
      document.body.style.overflow = 'hidden'

      logoutBanBtn.onclick = async () => {
        await supabase.auth.signOut()
        window.location.href = "go:pghome?logout=true"
      }
    }

  } catch (e) {
    console.error("Erro geral no check de banimento:", e)
  }
})
</script>

<div id="google_translate_element"></div>

<script src="auto_translate.js"></script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>